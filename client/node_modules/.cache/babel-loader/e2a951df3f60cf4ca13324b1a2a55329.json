{"ast":null,"code":"var _jsxFileName = \"/Users/sillysadsoy/Desktop/project-phase-4/client/src/components/AuthenticatedApp.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { useState, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Header from './Header';\nimport Search from './Search';\nimport NewBookForm from './NewBookForm';\nimport NewAuthorForm from './NewAuthorForm';\nimport BookList from './BookList';\nimport AuthorList from './AuthorList';\nimport BookDetails from './BookDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AuthenticatedApp({\n  currentUser,\n  setCurrentUser\n}) {\n  _s();\n\n  // logout (setCurrentUser) => handle logout passed to header? \n  // include a me profile with info and their books (currentUser)\n  const [newBookInput, setNewBook] = useState({\n    title: '',\n    image: '',\n    isbn: '',\n    desc: '',\n    publisher: '',\n    author: []\n  });\n  const [newAuthorInput, setNewAuthor] = useState({\n    name: '',\n    image: '',\n    desc: ''\n  });\n  const [booksList, setBooksList] = useState([]);\n  const [getAuthors, setGetAuthors] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  useEffect(() => {\n    fetch(\"http://localhost:3000/authors\").then(response => response.json()).then(authorArr => setGetAuthors(authorArr));\n  }, [setNewAuthor, newAuthorInput, newBookInput]);\n  useEffect(() => {\n    fetch(`http://localhost:3000/books`).then(resp => resp.json()).then(books => setBooksList(books));\n  }, [setNewBook, newBookInput, newAuthorInput]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (e.target.id === 'newBookForm') {\n      fetch(`http://localhost:3000/books`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newBookInput)\n      }).then(resp => resp.json()).then(() => setNewBook({\n        title: '',\n        image: '',\n        isbn: '',\n        desc: '',\n        publisher: '',\n        author: ''\n      }));\n    } else {\n      fetch(`http://localhost:3000/books`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newAuthorInput)\n      }).then(resp => resp.json()).then(() => setNewAuthor({\n        name: '',\n        image: '',\n        desc: ''\n      }));\n    }\n  }\n\n  const filteredBooks = booksList.filter(book => book.title.toLowerCase().includes(search.toLowerCase()));\n  const filteredAuthors = getAuthors.filter(author => author.name.toLowerCase().includes(search.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/books/new\",\n        children: /*#__PURE__*/_jsxDEV(NewBookForm, {\n          newBookInput: newBookInput,\n          setNewBook: setNewBook,\n          handleSubmit: handleSubmit,\n          getAuthors: getAuthors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/books/:id\",\n        component: BookDetails\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/authors/new\",\n        children: /*#__PURE__*/_jsxDEV(NewAuthorForm, {\n          newAuthorInput: newAuthorInput,\n          setNewAuthor: setNewAuthor,\n          handleSubmit: handleSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/authors\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          search: search,\n          setSearch: setSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AuthorList, {\n          filteredAuthors: filteredAuthors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/books\",\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          search: search,\n          setSearch: setSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(BookList, {\n          filteredBooks: filteredBooks\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AuthenticatedApp, \"Cgg+H1cNAxqMm622yGINmcX4AHc=\");\n\n_c = AuthenticatedApp;\nexport default AuthenticatedApp;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthenticatedApp\");","map":{"version":3,"sources":["/Users/sillysadsoy/Desktop/project-phase-4/client/src/components/AuthenticatedApp.js"],"names":["useState","useEffect","Route","Switch","Header","Search","NewBookForm","NewAuthorForm","BookList","AuthorList","BookDetails","AuthenticatedApp","currentUser","setCurrentUser","newBookInput","setNewBook","title","image","isbn","desc","publisher","author","newAuthorInput","setNewAuthor","name","booksList","setBooksList","getAuthors","setGetAuthors","search","setSearch","fetch","then","response","json","authorArr","resp","books","handleSubmit","e","preventDefault","target","id","method","headers","body","JSON","stringify","filteredBooks","filter","book","toLowerCase","includes","filteredAuthors"],"mappings":"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","sourcesContent":["import './App.css';\n\nimport { useState, useEffect } from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport Header from './Header';\nimport Search from './Search';\n\nimport NewBookForm from './NewBookForm';\nimport NewAuthorForm from './NewAuthorForm';\n\nimport BookList from './BookList';\nimport AuthorList from './AuthorList';\nimport BookDetails from './BookDetails';\n\nfunction AuthenticatedApp({ currentUser, setCurrentUser }) {\n\n    // logout (setCurrentUser) => handle logout passed to header? \n\n    // include a me profile with info and their books (currentUser)\n\n    const [newBookInput, setNewBook] = useState(\n      {title: '', image: '', isbn: '', desc: '', publisher: '', author: []}\n      );\n  \n    const [newAuthorInput, setNewAuthor] = useState(\n      {name: '', image: '', desc: ''}\n      );\n  \n    const [booksList, setBooksList] = useState([]);\n  \n    const [getAuthors, setGetAuthors] = useState([]);\n  \n    const [search, setSearch] = useState(\"\");\n  \n    useEffect(() => {\n      fetch(\"http://localhost:3000/authors\")\n      .then(response => response.json())\n      .then(authorArr => setGetAuthors(authorArr))\n      }, [setNewAuthor, newAuthorInput, newBookInput])\n  \n    useEffect(() => {\n      fetch(`http://localhost:3000/books`)\n      .then(resp => resp.json())\n      .then(books => setBooksList(books))\n    },[setNewBook, newBookInput, newAuthorInput]);\n  \n    function handleSubmit(e) {\n  \n      e.preventDefault();\n  \n      if(e.target.id === 'newBookForm') \n      {fetch(`http://localhost:3000/books`, {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify(newBookInput)})\n        .then(resp => resp.json())\n        .then(() => setNewBook({title: '', image: '', isbn: '', desc: '', publisher: '', author: ''}))\n      }\n      else \n      {fetch(`http://localhost:3000/books`, {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify(newAuthorInput)})\n        .then(resp => resp.json())\n        .then(() => setNewAuthor({name: '', image: '', desc: ''}))\n      }\n    }\n  \n    const filteredBooks =  booksList.filter(book => book.title.toLowerCase().includes(search.toLowerCase()))\n    const filteredAuthors =  getAuthors.filter(author => author.name.toLowerCase().includes(search.toLowerCase()))\n\n    return (\n        <div className=\"App\">\n\n        <Header />\n        {/* <Search search={search} setSearch={setSearch}/> */}\n  \n        <Switch>\n  \n          <Route path='/books/new'>\n            <NewBookForm newBookInput={newBookInput}\n                        setNewBook={setNewBook}\n                        handleSubmit={handleSubmit}\n                        getAuthors={getAuthors} />\n          </Route>\n  \n          <Route path='/books/:id' component={BookDetails} />\n  \n          <Route path='/authors/new'>\n            <NewAuthorForm newAuthorInput={newAuthorInput}\n                        setNewAuthor={setNewAuthor}\n                        handleSubmit={handleSubmit} />\n          </Route>\n  \n          <Route path='/authors'>\n            <Search search={search} setSearch={setSearch}/>\n            <AuthorList filteredAuthors={filteredAuthors}/>\n          </Route>\n  \n          <Route path='/books'>\n            <Search search={search} setSearch={setSearch}/>\n            <BookList filteredBooks={filteredBooks}/>\n          </Route>\n  \n        </Switch>\n\n        </div>\n    );\n}\n\nexport default AuthenticatedApp;"]},"metadata":{},"sourceType":"module"}